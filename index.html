<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Paragon Operations Map</title>
  <meta name="description" content="Comprehensive operational analysis and strategic planning tool for Paragon Property Management.">

  <link rel="stylesheet" href="css/style.css">

  <link rel="icon" href="/favicon.ico" sizes="any">
  <link rel="icon" href="/icon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="icon.png">
  <link rel="manifest" href="site.webmanifest">
</head>
<body>
<div class="container">
  <div class="header">
    <div>
      <h1>Paragon Operations Map</h1>
      <p>Comprehensive Operational Analysis &amp; Strategic Planning</p>
    </div>
    <div class="header-meta">
      <p><strong>Created:</strong> February 2026</p>
      <p><strong>Manager:</strong> Carlos Sanchez</p>
      <p><strong>Target Date:</strong> March 31, 2026</p>
    </div>
  </div>

  <div class="nav-tabs">
    <!-- FIX: pass `this` so switchView() receives the clicked element directly,
         avoiding reliance on window.event which is undefined in Firefox. -->
    <div class="nav-tab active" onclick="switchView('tracking', this)">&#128202; Tracking View</div>
    <div class="nav-tab" onclick="switchView('map', this)">&#128506; Map View</div>
    <div class="nav-tab" onclick="switchView('models', this)">&#127919; Strategic Models</div>
  </div>

  <div class="controls" id="controls">
    <div class="legend">
      <div class="legend-item"><div class="legend-color" style="background:#ff6f00"></div><span>Nathan</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#1976d2"></div><span>Patrick</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#00897b"></div><span>Austin</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#6a1b9a"></div><span>Cathryn</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#00695c"></div><span>Linda</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#5e35b1"></div><span>Kevin</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#263238"></div><span>Jason</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#c62828"></div><span>Carlos</span></div>
      <div class="legend-item"><div class="legend-color" style="background:#d32f2f"></div><span>&#9888;&#65039; UNOWNED</span></div>
    </div>
  </div>

  <div class="content">
    <!-- TRACKING VIEW -->
    <div id="tracking-view" class="view-panel active">
      <div style="background: linear-gradient(135deg, #37474f 0%, #263238 100%); color: white; padding: 30px; border-radius: 15px; text-align: center; margin-bottom: 40px;">
        <h2 style="font-size: 28px;">PARAGON PROPERTY MANAGEMENT</h2>
        <p style="margin-top: 10px; opacity: 0.9;">~150 Units | Scaling to 300-500</p>
      </div>
      <div class="departments" id="departments"></div>
    </div>

    <!-- MAP VIEW -->
    <div id="map-view" class="view-panel">
      <!-- Wrapper enables horizontal scroll on mobile without breaking desktop layout -->
      <div class="map-scroll-wrapper">
        <svg id="flowMap"></svg>
      </div>
    </div>

    <!-- STRATEGIC MODELS VIEW -->
    <div id="models-view" class="view-panel">
      <h2 style="margin-bottom: 30px; color: #263238;">&#127919; Strategic Execution Models for Scaling</h2>
      <div class="models-grid" id="models-container"></div>

      <h2 style="margin: 40px 0 30px 0; color: #263238;">&#128218; Industry Case Studies</h2>
      <div id="case-studies-container"></div>
    </div>
  </div>

  <div class="stats">
    <div class="stat-card"><div class="stat-label">Total Tasks</div><div class="stat-value" id="stat-total">0</div></div>
    <div class="stat-card"><div class="stat-label">Assigned</div><div class="stat-value" id="stat-assigned">0</div></div>
    <div class="stat-card danger"><div class="stat-label">&#9888; Unowned</div><div class="stat-value" id="stat-unowned">0</div></div>
    <div class="stat-card"><div class="stat-label">Departments</div><div class="stat-value" id="stat-departments">0</div></div>
  </div>
</div>

<!-- FIX: paths updated from bare filenames to js/ subdirectory,
     matching the actual file locations and making webpack entry consistent. -->
<script src="js/data.js"></script>
<script src="js/app.js"></script>
</body>
</html>
